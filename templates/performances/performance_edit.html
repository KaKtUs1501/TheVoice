
{% extends 'base.html' %}
{% block title %}Edit Performance{% endblock %}
{% block content %}
<h1>Edit Performance</h1>
{% if error_message %}
    <div class="alert alert-danger">{{ error_message }}</div>
{% endif %}
<form method="POST" action="{{ url_for('edit_performance', performance_id=performance._id) }}">
    <div class="form-group">
        <label for="contestant_id">Contestant:</label>
        <select id="contestant_id" name="contestant_id" class="form-control" required>
            {% for contestant in contestants %}
            <option value="{{ contestant._id }}" {% if contestant._id == performance.contestant_id %}selected{% endif %}>{{ contestant.name }} {{ contestant.surname }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="song_id">Song:</label>
        <select id="song_id" name="song_id" class="form-control" required>
            {% for song in songs %}
            <option value="{{ song._id }}" {% if song._id == performance.song_id %}selected{% endif %}>{{ song.name }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="broadcast_id">Broadcast:</label>
        <select id="broadcast_id" name="broadcast_id" class="form-control" required>
            {% for broadcast in broadcasts %}
            <option value="{{ broadcast._id }}" {% if broadcast._id == performance.broadcast_id %}selected{% endif %}>{{ broadcast.name }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="order">Order:</label>
        <input type="number" id="order" name="order" class="form-control" value="{{ performance.order }}" required>
    </div>
    <button type="submit" class="btn btn-primary">Update Performance</button>
    <a href="{{ url_for('performances') }}" class="btn btn-secondary mt-3">Cancel</a>
</form>
{% endblock %}
